# AudioRecorder.Services

## Audio Capture Service

Этот сервис отвечает за захват аудио данных с аудио-устройств и запись их в файл.

## Основные компоненты

### WasapiAudioCaptureService.cs

Основной класс для работы с аудио-устройствами через WASAPI (Windows Audio Session API).

### Основные особенности:
- Поддержка захвата с системных устройств вывода (loopback)
- Поддержка захвата с устройств ввода
- Поддержка различных форматов аудио
- Обработка ошибок и логирование
- Поддержка многопоточности

### Проблемы с аудио-записью

При попытке записи аудио данные не поступают от аудио-устройств. В логах видно, что:
- Устройства успешно инициализируются
- Буферы создаются
- Запись начинается
- Но все время читаются 0 сэмплов

Это может быть вызвано следующими причинами:
1. Проблемы с правами доступа к аудио-устройствам
2. Неправильная настройка аудио-устройств
3. Ошибки в WASAPI-интерфейсе
4. Проблемы с системой аудио-драйверов

### Решения
1. Убедитесь, что приложение запущено с правами администратора
2. Проверьте, что аудио-устройства включены и не используются другими приложениями
3. Попробуйте использовать другие аудио-устройства
4. Перезапустите систему

## Логирование

Сервис использует AppLogger для записи логов в файл и консоль. Логи содержат информацию о:
- Инициализации устройств
- Запуске и остановке записи
- Ошибках и предупреждениях
- Состоянии аудио-устройств